"use strict";(self["webpackChunkmailfit_test"]=self["webpackChunkmailfit_test"]||[]).push([[434],{1434:function(t,e,s){s.r(e),s.d(e,{default:function(){return x}});var n=s(3396),i=s(9242),o=s(7139);const a={key:0,class:"note"},l={class:"container"},d={class:"note__top"},c={class:"note__btns"},r=["disabled"],k=(0,n._)("hr",{class:"hr"},null,-1),u=(0,n._)("button",{type:"submit",class:"btn"},"add",-1),h={class:"note__tasks"},p={class:"note__task-number"},b=["onUpdate:modelValue","disabled"],_={class:"note__task-control"},g=["onUpdate:modelValue","disabled"],m=["onClick"],f={key:1};function y(t,e,s,y,w,U){const T=(0,n.up)("modal");return U.note?((0,n.wg)(),(0,n.iD)("div",a,[(0,n._)("div",l,[(0,n._)("div",d,[(0,n._)("span",{onClick:e[0]||(e[0]=e=>t.$router.back()),class:"note__back"},"Go back"),(0,n._)("div",c,[U.undo?((0,n.wg)(),(0,n.iD)("button",{key:0,class:"btn danger",onClick:e[1]||(e[1]=(...t)=>U.onUndo&&U.onUndo(...t))},"undo")):(0,n.kq)("",!0),U.note.configurable?((0,n.wg)(),(0,n.iD)("button",{key:1,class:"btn danger",onClick:e[2]||(e[2]=t=>this.modalUnconfig=!0)},"make unconfigurable")):(0,n.kq)("",!0),(0,n._)("button",{class:"btn danger",onClick:e[3]||(e[3]=t=>this.modalDelete=!0)},"delete")])]),(0,n.wy)((0,n._)("input",{type:"text",class:"input-text","onUpdate:modelValue":e[4]||(e[4]=t=>w.title=t),disabled:!U.note.configurable},null,8,r),[[i.nr,w.title]]),k,U.note.configurable?((0,n.wg)(),(0,n.iD)("form",{key:0,onSubmit:e[6]||(e[6]=(0,i.iM)(((...t)=>U.addTask&&U.addTask(...t)),["prevent"])),class:"note__add-task"},[(0,n.wy)((0,n._)("input",{type:"text",class:"input-text",placeholder:"Task title","onUpdate:modelValue":e[5]||(e[5]=t=>w.taskText=t)},null,512),[[i.nr,w.taskText]]),u],32)):(0,n.kq)("",!0),(0,n._)("div",h,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(w.tasks,((t,e)=>((0,n.wg)(),(0,n.iD)("div",{class:"note__task",key:t.id},[(0,n._)("div",{class:(0,o.C_)(["note__task-text",{completed:t.completed}])},[(0,n._)("span",p,(0,o.zw)(e+1)+").",1),(0,n.wy)((0,n._)("input",{type:"text",class:"input-text","onUpdate:modelValue":e=>t.text=e,disabled:!U.note.configurable},null,8,b),[[i.nr,t.text]])],2),(0,n._)("div",_,[(0,n.wy)((0,n._)("input",{type:"checkbox",class:"checkbox","onUpdate:modelValue":e=>t.completed=e,disabled:!U.note.configurable},null,8,g),[[i.e8,t.completed]]),U.note.configurable?((0,n.wg)(),(0,n.iD)("button",{key:0,class:"note__task-delete",onClick:e=>U.removeTask(t.id)},"â•³",8,m)):(0,n.kq)("",!0)])])))),128))]),U.updatable?((0,n.wg)(),(0,n.iD)("button",{key:1,class:"btn note__wide-btn",onClick:e[7]||(e[7]=(...t)=>U.onUpdate&&U.onUpdate(...t))},"update")):(0,n.kq)("",!0),U.updatable?((0,n.wg)(),(0,n.iD)("button",{key:2,class:"btn danger note__wide-btn",onClick:e[8]||(e[8]=(...t)=>U.onReset&&U.onReset(...t))},"reset changes")):(0,n.kq)("",!0)]),w.modalDelete?((0,n.wg)(),(0,n.j4)(T,{key:0,onClick:e[11]||(e[11]=t=>this.modalDelete=!1)},{text:(0,n.w5)((()=>[(0,n.Uk)(" Confirm delete "+(0,o.zw)(w.title),1)])),btns:(0,n.w5)((()=>[(0,n._)("button",{class:"btn",onClick:e[9]||(e[9]=t=>this.modalDelete=!1)},"cancel"),(0,n._)("button",{class:"btn danger",onClick:e[10]||(e[10]=(...t)=>U.onDelete&&U.onDelete(...t))},"confirm")])),_:1})):(0,n.kq)("",!0),w.modalUnconfig?((0,n.wg)(),(0,n.j4)(T,{key:1,onClick:e[14]||(e[14]=t=>this.modalUnconfig=!1)},{text:(0,n.w5)((()=>[(0,n.Uk)(" Confirm unconfiguration "+(0,o.zw)(w.title),1)])),btns:(0,n.w5)((()=>[(0,n._)("button",{class:"btn",onClick:e[12]||(e[12]=t=>this.modalUnconfig=!1)},"cancel"),(0,n._)("button",{class:"btn danger",onClick:e[13]||(e[13]=(...t)=>U.onUnconfig&&U.onUnconfig(...t))},"confirm")])),_:1})):(0,n.kq)("",!0)])):((0,n.wg)(),(0,n.iD)("div",f,"Error - there is not this note"))}s(7658);var w={computed:{note(){return this.$store.getters.noteById(+this.$route.params.id)},updatable(){return this.title!==this.note.title||JSON.stringify(this.tasks)!==JSON.stringify(this.note.tasks)},undo(){return this.title!==this.resetedTitle||JSON.stringify(this.tasks)!==JSON.stringify(this.resetedTasks)}},data(){return{title:"",tasks:[],resetedTitle:"",resetedTasks:[],taskText:"",modalDelete:!1,modalUnconfig:!1}},mounted(){this.title=this.resetedTitle=this.note.title,this.tasks=this.resetedTasks=JSON.parse(JSON.stringify(this.note.tasks))},methods:{onDelete(){this.modalDelete=!1,this.$store.dispatch("deleteNote",this.note),this.$router.push("/")},onUnconfig(){this.title=this.note.title,this.tasks=JSON.parse(JSON.stringify(this.note.tasks)),this.modalUnconfig=!1,this.$store.dispatch("unconfigNote",this.note)},onUpdate(){this.$store.dispatch("updateNote",{id:this.note.id,title:this.title,tasks:this.tasks}),this.$router.push("/")},onReset(){this.resetedTitle=this.title,this.resetedTasks=JSON.parse(JSON.stringify(this.tasks)),this.title=this.note.title,this.tasks=JSON.parse(JSON.stringify(this.note.tasks))},onUndo(){this.title=this.resetedTitle,this.tasks=JSON.parse(JSON.stringify(this.resetedTasks))},removeTask(t){this.tasks=this.tasks.filter((e=>e.id!==t))},addTask(){const t={id:Date.now(),text:this.taskText,completed:!1};this.taskText.trim()&&(this.tasks.push(t),this.taskText="")}}},U=s(89);const T=(0,U.Z)(w,[["render",y]]);var x=T}}]);
//# sourceMappingURL=434.950b095e.js.map